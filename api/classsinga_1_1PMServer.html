<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Apache SINGA: singa::PMServer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="singa-logo-small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Apache SINGA
   </div>
   <div id="projectbrief">A distributed deep learning platform .</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>singa</b></li><li class="navelem"><a class="el" href="classsinga_1_1PMServer.html">PMServer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classsinga_1_1PMServer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">singa::PMServer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Parameter manager at the server side.  
 <a href="classsinga_1_1PMServer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="pm__server_8h_source.html">pm_server.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ad92d2621f460a2e1d222c469369dd7f1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad92d2621f460a2e1d222c469369dd7f1"></a>
typedef std::map&lt; int, <br class="typebreak"/>
shared_ptr&lt; <a class="el" href="classsinga_1_1Param.html">Param</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>ParamShard</b></td></tr>
<tr class="separator:ad92d2621f460a2e1d222c469369dd7f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aeb90a8db3d06feb38d43136f65ae4383"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeb90a8db3d06feb38d43136f65ae4383"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Setup</b> (int group_id, int server_id, shared_ptr&lt; ParamShard &gt; shard, const UpdaterProto &amp;proto)</td></tr>
<tr class="separator:aeb90a8db3d06feb38d43136f65ae4383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a10c73069a1e1495672792d43dad42c"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classsinga_1_1Msg.html">Msg</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsinga_1_1PMServer.html#a6a10c73069a1e1495672792d43dad42c">HandleGet</a> (<a class="el" href="classsinga_1_1Msg.html">Msg</a> **msg)</td></tr>
<tr class="memdesc:a6a10c73069a1e1495672792d43dad42c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process GET request.  <a href="#a6a10c73069a1e1495672792d43dad42c">More...</a><br/></td></tr>
<tr class="separator:a6a10c73069a1e1495672792d43dad42c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ac7bf4ff9cf29135e9a8c08e16f890a"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classsinga_1_1Msg.html">Msg</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsinga_1_1PMServer.html#a8ac7bf4ff9cf29135e9a8c08e16f890a">HandleUpdate</a> (<a class="el" href="classsinga_1_1Msg.html">Msg</a> **msg)</td></tr>
<tr class="memdesc:a8ac7bf4ff9cf29135e9a8c08e16f890a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process Update request.  <a href="#a8ac7bf4ff9cf29135e9a8c08e16f890a">More...</a><br/></td></tr>
<tr class="separator:a8ac7bf4ff9cf29135e9a8c08e16f890a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb72a5ae0864e41314e8f4b49e0e2304"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classsinga_1_1Msg.html">Msg</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsinga_1_1PMServer.html#abb72a5ae0864e41314e8f4b49e0e2304">HandlePut</a> (<a class="el" href="classsinga_1_1Msg.html">Msg</a> **msg)</td></tr>
<tr class="memdesc:abb72a5ae0864e41314e8f4b49e0e2304"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process PUT request.  <a href="#abb72a5ae0864e41314e8f4b49e0e2304">More...</a><br/></td></tr>
<tr class="separator:abb72a5ae0864e41314e8f4b49e0e2304"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fea9e785ebb67eb4db6b214693114f3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5fea9e785ebb67eb4db6b214693114f3"></a>
virtual <a class="el" href="classsinga_1_1Msg.html">Msg</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsinga_1_1PMServer.html#a5fea9e785ebb67eb4db6b214693114f3">HandleSyncRequest</a> (<a class="el" href="classsinga_1_1Msg.html">Msg</a> **msg)</td></tr>
<tr class="memdesc:a5fea9e785ebb67eb4db6b214693114f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">TODO Process SYNC request. <br/></td></tr>
<tr class="separator:a5fea9e785ebb67eb4db6b214693114f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dd96b16e813a82d7aa853dc8a583a82"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0dd96b16e813a82d7aa853dc8a583a82"></a>
virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsinga_1_1PMServer.html#a0dd96b16e813a82d7aa853dc8a583a82">HandleSyncResponse</a> (<a class="el" href="classsinga_1_1Msg.html">Msg</a> **msg)</td></tr>
<tr class="memdesc:a0dd96b16e813a82d7aa853dc8a583a82"><td class="mdescLeft">&#160;</td><td class="mdescRight">TODO Process SYNC response. <br/></td></tr>
<tr class="separator:a0dd96b16e813a82d7aa853dc8a583a82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84fb182e77ea7a3109aabc74e17cbf69"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsinga_1_1PMServer.html#a84fb182e77ea7a3109aabc74e17cbf69">SyncNow</a> ()</td></tr>
<tr class="memdesc:a84fb182e77ea7a3109aabc74e17cbf69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scheduler for synchronizing server groups.  <a href="#a84fb182e77ea7a3109aabc74e17cbf69">More...</a><br/></td></tr>
<tr class="separator:a84fb182e77ea7a3109aabc74e17cbf69"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a0f0d677b900418700e2c9dc842f738b5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0f0d677b900418700e2c9dc842f738b5"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>group_id_</b></td></tr>
<tr class="separator:a0f0d677b900418700e2c9dc842f738b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5dc575411ae40bc39a3d4a85eb45849"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac5dc575411ae40bc39a3d4a85eb45849"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>server_id_</b></td></tr>
<tr class="separator:ac5dc575411ae40bc39a3d4a85eb45849"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44d0f5b0fbdff3fbd18df3879e10a33e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a44d0f5b0fbdff3fbd18df3879e10a33e"></a>
shared_ptr&lt; ParamShard &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>shard_</b></td></tr>
<tr class="separator:a44d0f5b0fbdff3fbd18df3879e10a33e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a363f39726e0c81f7c56ce24d0f3b1d95"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a363f39726e0c81f7c56ce24d0f3b1d95"></a>
shared_ptr&lt; <a class="el" href="classsinga_1_1Dealer.html">Dealer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>dealer_</b></td></tr>
<tr class="separator:a363f39726e0c81f7c56ce24d0f3b1d95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfb6abf73f0d8345e686cb12749806cb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acfb6abf73f0d8345e686cb12749806cb"></a>
shared_ptr&lt; <a class="el" href="classsinga_1_1Updater.html">Updater</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>updater_</b></td></tr>
<tr class="separator:acfb6abf73f0d8345e686cb12749806cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Parameter manager at the server side. </p>
<p>Repsond to worker's get/put/udpate request, and periodically syncing with other servers.</p>
<p>Normally, the <a class="el" href="classsinga_1_1PMServer.html" title="Parameter manager at the server side. ">PMServer</a> creates a response message for each request which will be sent back to the one who issued the request. However, if the request are not processed successfully, the original message will be returned. The sever does not know the returned message (response or the original message), it just sends it to the router. The router will decide to re-send the request to the server or send it to the worker. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a6a10c73069a1e1495672792d43dad42c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classsinga_1_1Msg.html">Msg</a>* singa::PMServer::HandleGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsinga_1_1Msg.html">Msg</a> **&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process GET request. </p>
<dl class="section return"><dt>Returns</dt><dd>the orignal message or response message </dd></dl>

</div>
</div>
<a class="anchor" id="abb72a5ae0864e41314e8f4b49e0e2304"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classsinga_1_1Msg.html">Msg</a>* singa::PMServer::HandlePut </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsinga_1_1Msg.html">Msg</a> **&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process PUT request. </p>
<dl class="section return"><dt>Returns</dt><dd>the original message or response message. If we don't want need to acknowledge the put request, then return nullptr. </dd></dl>

</div>
</div>
<a class="anchor" id="a8ac7bf4ff9cf29135e9a8c08e16f890a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classsinga_1_1Msg.html">Msg</a>* singa::PMServer::HandleUpdate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsinga_1_1Msg.html">Msg</a> **&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process Update request. </p>
<dl class="section return"><dt>Returns</dt><dd>the orignal message or response message </dd></dl>

</div>
</div>
<a class="anchor" id="a84fb182e77ea7a3109aabc74e17cbf69"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool singa::PMServer::SyncNow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Scheduler for synchronizing server groups. </p>
<p>TODO implement the Caffe's synchronization scheduler for data parallelism </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/wangwei/program/asf/incubator-singa/include/trainer/<a class="el" href="pm__server_8h_source.html">pm_server.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu May 7 2015 17:15:43 for Apache SINGA by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
